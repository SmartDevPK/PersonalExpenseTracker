<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Reset Password</title>
  <style>
     /* General resets */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #333;
  background-color: #f9f9f9;
}

/* Container */
.container {
  max-width: 420px;
  margin: 60px auto;
  padding: 30px 25px;
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}

/* Heading */
h2 {
  text-align: center;
  margin-bottom: 24px;
  color: #2c3e50;
  font-weight: 700;
}

/* Flash messages */
.flashes {
  list-style: none;
  margin-bottom: 20px;
  padding-left: 0;
}

.flash {
  padding: 10px 15px;
  border-radius: 4px;
  margin-bottom: 12px;
  font-weight: 600;
}

.flash.success {
  background-color: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

.flash.info {
  background-color: #cce5ff;
  color: #004085;
  border: 1px solid #b8daff;
}

.flash.danger {
  background-color: #f8d7da;
  color: #721c24;
  border: 1px solid #f5c6cb;
}

/* Form group */
.form-group {
  margin-bottom: 20px;
}

label {
  display: block;
  margin-bottom: 6px;
  font-weight: 600;
  font-size: 0.95rem;
}

/* Input fields */
input[type="password"],
input[type="text"],
input[type="email"] {
  width: 100%;
  padding: 10px 12px;
  border: 1.8px solid #ccc;
  border-radius: 5px;
  font-size: 1rem;
  transition: border-color 0.3s ease;
}

input[type="password"]:focus,
input[type="text"]:focus,
input[type="email"]:focus {
  outline: none;
  border-color: #3498db;
  box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
}

/* Error messages */
.errors {
  list-style: none;
  margin-top: 8px;
  padding-left: 15px;
  color: #e74c3c;
  font-size: 0.9rem;
}

.errors li {
  margin-bottom: 4px;
}

/* Button */
button.btn-primary {
  width: 100%;
  background-color: #3498db;
  border: none;
  color: white;
  padding: 12px 0;
  font-size: 1.1rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  transition: background-color 0.3s ease;
}

button.btn-primary:hover {
  background-color: #2980b9;
}

/* Back to login link */
p {
  text-align: center;
  margin-top: 20px;
  font-size: 0.95rem;
}

p a {
  color: #3498db;
  text-decoration: none;
  font-weight: 600;
}

p a:hover {
  text-decoration: underline;
}

  </style>
</head>
<body>
  <div class="container">
    <h2>Reset Your Password</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul class="flashes">
          {% for category, message in messages %}
            <li class="flash {{ category }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

   <form method="POST" action="{{ url_for('user_api.reset_password', token=token) }}">

      {{ form.hidden_tag() }}

      <div class="form-group">
        {{ form.password.label }}
        {{ form.password(class="form-control", placeholder="Enter new password") }}
        {% if form.password.errors %}
          <ul class="errors">
            {% for error in form.password.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>

      <div class="form-group">
        {{ form.confirm_password.label }}
        {{ form.confirm_password(class="form-control", placeholder="Confirm new password") }}
        {% if form.confirm_password.errors %}
          <ul class="errors">
            {% for error in form.confirm_password.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>

      <button type="submit" class="btn btn-primary">Reset Password</button>
    </form>

    <p><a href="{{ url_for('user_api.login') }}">Back to Login</a></p>
  </div>
</body>
</html>
